generator client {
  provider = "prisma-client-js"
  output   = "./generated/php"
}

datasource db {
  provider = "mysql"
  url      = env("PHP_DATABASE_URL")
}

model Forum {
  forum_id   Int    @id @default(autoincrement()) @db.UnsignedMediumInt
  parent_id  Int    @default(0) @db.UnsignedMediumInt
  forum_name String @default("") @db.VarChar(255)
  forum_desc String @default("") @db.Text

  @@map("phpbb_forums")
}

model Group {
  group_id     Int    @id @default(autoincrement()) @db.UnsignedMediumInt
  group_name   String @default("") @db.VarChar(255)
  group_desc   String @default("") @db.Text
  group_colour String @default("") @db.VarChar(6)

  @@map("phpbb_groups")
}

model Post {
  post_id   Int    @id @default(autoincrement()) @db.UnsignedInt
  topic_id  Int    @default(0) @db.UnsignedInt
  poster_id Int    @default(0) @db.UnsignedInt
  post_time Int    @default(0) @db.UnsignedInt
  post_text String @db.MediumText

  @@index([poster_id], map: "poster_id")
  @@index([topic_id, post_time], map: "tid_post_time")
  @@index([topic_id], map: "topic_id")
  @@map("phpbb_posts")
}

model PrivMsg {
  msg_id       Int    @id @default(autoincrement()) @db.UnsignedInt
  author_id    Int    @default(0) @db.UnsignedInt
  message_time Int    @default(0) @db.UnsignedInt
  message_text String @db.MediumText
  to_address   String @db.Text

  @@index([author_id], map: "author_id")
  @@index([message_time], map: "message_time")
  @@map("phpbb_privmsgs")
  @@ignore
}

model Topic {
  topic_id     Int    @id @default(autoincrement()) @db.UnsignedInt
  forum_id     Int    @default(0) @db.UnsignedMediumInt
  topic_title  String @default("") @db.VarChar(255)
  topic_poster Int    @default(0) @db.UnsignedInt
  topic_time   Int    @default(0) @db.UnsignedInt
  topic_views  Int    @default(0) @db.UnsignedMediumInt

  @@index([forum_id], map: "forum_id")
  @@map("phpbb_topics")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model phpbb_user_group {
  group_id     Int @default(0) @db.UnsignedMediumInt
  user_id      Int @default(0) @db.UnsignedInt
  group_leader Int @default(0) @db.UnsignedTinyInt
  user_pending Int @default(1) @db.UnsignedTinyInt

  @@index([group_id], map: "group_id")
  @@index([group_leader], map: "group_leader")
  @@index([user_id], map: "user_id")
  @@ignore
}

model User {
  user_id              Int    @id @default(0) @db.MediumInt
  user_type            Int    @default(1) @db.TinyInt
  group_id             Int    @default(3) @db.UnsignedMediumInt
  user_ip              String @default("") @db.VarChar(40)
  user_regdate         Int    @default(0) @db.Int
  username             String @db.VarChar(25)
  user_email           String @default("") @db.VarChar(100)
  user_birthday        String @default("") @db.VarChar(10)
  user_lastvisit       Int    @default(0) @db.UnsignedInt
  user_inactive_reason Int    @default(0) @db.Int
  user_posts           Int    @default(0) @db.UnsignedMediumInt
  user_avatar          String @default("") @db.VarChar(255)
  user_avatar_type     Int    @default(0) @db.TinyInt

  @@index([user_birthday], map: "user_birthday")
  @@index([user_email], map: "user_email")
  @@index([user_type], map: "user_type")
  @@map("phpbb_users")
}

model phpbb_banlist {
  ban_id      Int    @id @default(autoincrement()) @db.UnsignedInt
  ban_userid  Int    @default(0) @db.UnsignedInt
  ban_start   Int    @default(0) @db.UnsignedInt
  ban_end     Int    @default(0) @db.UnsignedInt
  ban_exclude Int    @default(0) @db.UnsignedTinyInt
  ban_reason  String @default("") @db.VarChar(255)

  @@index([ban_end], map: "ban_end")
  @@index([ban_userid, ban_exclude], map: "ban_user")
  @@ignore
}
